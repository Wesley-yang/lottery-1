<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>

<head>
    <title> 抽奖活动 </title>
    <meta charset="utf-8">
    <meta name="Generator" content="EditPlus">
    <meta name="Author" content="">
    <meta name="Keywords" content="">
    <meta name="Description" content="">
    <link rel="stylesheet" type="text/css" href="lottery.css">
</head>

<body>
    <script type="text/javascript">
    //抽奖数据，以英文逗号分隔
    var alldata = "001李大,002二,003邓三,004罗四,005欧五,006周六,007陈七,008潘八,009张九,010林十,011朱十一,012赵十二,013陈十三,014王十四";
    var alldataarr = alldata.split(",");
    var num = alldataarr.length - 1;
    var timer;

    function change() {
        document.getElementById("oknum").value = alldataarr[GetRnd(0, num)];
    }

    function start() {
        clearInterval(timer);
        timer = setInterval('change()', 46); //随机数据变换速度，越小变换的越快     
    }

    function ok() {
        clearInterval(timer);
        //以下代码表示获得奖的，不能再获奖了。  重置刷新页面即可。  
        alldata = alldata.replace(document.getElementById("oknum").value, "").replace(",,", ",");
        // 去掉前置，最末尾的,  
        if (alldata.substr(0, 1) == ",") {
            alldata = alldata.substr(1, alldata.length);
        }
        if (alldata.substr(alldata.length - 1, 1) == ",") {
            alldata = alldata.substring(0, alldata.length - 1);
        }
        alldataarr = alldata.split(",");
        num = alldataarr.length - 1;
    }

    function GetRnd(min, max) {
        return parseInt(Math.random() * (max - min + 1));
    }
    </script>
    <div class="result_box">
        <input type="text" id="oknum" name="oknum" value="抽奖结果" />
    </div>
    <div class="button_box">
        <button class="btn" onclick="start()" accesskey="s">开始(
            <U>S</U>)</button>
        <button class="btn" onclick="ok()" accesskey="o">停止(
            <U>O</U>)</button>
    </div>
</body>

</html>
